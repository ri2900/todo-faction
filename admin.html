<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel - TODO Faction</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            padding: 2em;
            color: #333;
        }
        #login, #form-section {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        input, textarea, select, button {
            display: block;
            width: 100%;
            padding: 0.5em;
            margin: 1em 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            background: #007bff;
            color: white;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="login">
        <h2>Admin Login</h2>
        <input type="password" id="adminPass" placeholder="Enter Admin Password">
        <button onclick="checkPassword()">Login</button>
    </div>

    <div id="form-section" style="display:none;">
        <h2>Add T-Shirt Product</h2>
        <input type="text" id="title" placeholder="Product Title">
        <input type="number" id="price" placeholder="Price (BDT)">
        <textarea id="description" placeholder="Product Description"></textarea>
        <input type="text" id="image" placeholder="Image URL">
        <label>Select Sizes:</label>
        <select multiple id="sizes">
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
        </select>
        <input type="text" id="category" placeholder="Category (e.g. Graphic)">
        <input type="number" id="stock" placeholder="Stock Quantity">
        <button onclick="generateJSON()">Generate JSON</button>
        <pre id="output"></pre>
    </div>

    <script>
        const correctPass = "8011";

        function checkPassword() {
            const input = document.getElementById('adminPass').value;
            if (input === correctPass) {
                document.getElementById('login').style.display = 'none';
                document.getElementById('form-section').style.display = 'block';
            } else {
                alert("Wrong password!");
            }
        }

        function generateJSON() {
            const title = document.getElementById('title').value;
            const price = parseInt(document.getElementById('price').value);
            const description = document.getElementById('description').value;
            const image = document.getElementById('image').value;
            const sizes = Array.from(document.getElementById('sizes').selectedOptions).map(opt => opt.value);
            const category = document.getElementById('category').value;
            const stock = parseInt(document.getElementById('stock').value);

            const product = {
                title, price, description, image,
                size: sizes,
                category,
                stock
            };

            const jsonData = JSON.stringify([product], null, 4);
            document.getElementById('output').textContent = jsonData;

            const blob = new Blob([jsonData], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = "products.json";
            a.click();
        }
    </script>
</body>
</html>
